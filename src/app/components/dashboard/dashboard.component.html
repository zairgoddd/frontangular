<div class="dashboard-container">
  <header class="dashboard-header">
    <h1>ğŸ›¡ï¸ Sistema de Ataques InformÃ¡ticos</h1>
    <div class="user-info">
      <span>Bienvenido, <strong>{{currentUser?.nombre}}</strong></span>
      <span class="role-badge" [ngClass]="'role-' + currentUser?.role?.toLowerCase()">
        {{currentUser?.role}}
      </span>
      <button class="logout-btn" (click)="logout()">Cerrar SesiÃ³n</button>
    </div>
  </header>
  
  <!-- Barra de navegaciÃ³n -->
  <nav class="main-nav">
    <button class="nav-btn active" (click)="irADashboard()">
      ğŸ  Dashboard
    </button>
    <button class="nav-btn" (click)="irAAmenazas()">
      ğŸ›¡ï¸ Amenazas
    </button>
    <button class="nav-btn" (click)="irAAtaques()">
      âš”ï¸ Ataques
    </button>
    <button 
      *ngIf="esAdmin()" 
      class="nav-btn" 
      (click)="irAUsuarios()">
      ğŸ‘¥ Usuarios
    </button>
  </nav>
  
  <main class="dashboard-content">
    <div class="welcome-section">
      <h2>Â¡Bienvenido {{currentUser?.nombre}}!</h2>
      <p>Has iniciado sesiÃ³n como <strong>{{currentUser?.role}}</strong></p>
    </div>

    <!-- Cards de navegaciÃ³n rÃ¡pida -->
    <div class="action-cards">
      <div class="action-card" (click)="irAAmenazas()">
        <div class="card-icon">ğŸ›¡ï¸</div>
        <h3>Gestionar Amenazas</h3>
        <p>Ver, crear y administrar amenazas de seguridad</p>
        <div class="card-permissions">
          <span *ngIf="puedeCrearAmenazas()" class="permission">âœ… Crear</span>
          <span *ngIf="puedeEditarAmenazas()" class="permission">âœ… Editar</span>
          <span *ngIf="puedeEliminarAmenazas()" class="permission">âœ… Eliminar</span>
          <span class="permission">âœ… Ver</span>
        </div>
      </div>

      <div class="action-card" (click)="irAAtaques()">
        <div class="card-icon">âš”ï¸</div>
        <h3>Gestionar Ataques</h3>
        <p>Ver, registrar y monitorear ataques informÃ¡ticos</p>
        <div class="card-permissions">
          <span *ngIf="puedeCrearAtaques()" class="permission">âœ… Crear</span>
          <span *ngIf="puedeEditarAtaques()" class="permission">âœ… Editar</span>
          <span *ngIf="puedeEliminarAtaques()" class="permission">âœ… Eliminar</span>
          <span class="permission">âœ… Ver</span>
        </div>
      </div>

      <div class="action-card" *ngIf="esAdmin()" (click)="irAUsuarios()">
        <div class="card-icon">ğŸ‘¥</div>
        <h3>Gestionar Usuarios</h3>
        <p>Administrar usuarios y roles del sistema</p>
        <div class="card-permissions">
          <span class="permission">âœ… Administrar</span>
        </div>
      </div>
    </div>

    <!-- InformaciÃ³n del rol -->
    <div class="role-info">
      <h3>Tus permisos como {{currentUser?.role}}:</h3>
      <div class="permissions-grid">
        <div class="permission-item">
          <strong>Amenazas:</strong>
          <span *ngIf="currentUser?.role === 'CLIENTE'">Solo visualizaciÃ³n</span>
          <span *ngIf="currentUser?.role === 'ANALISTA'">Ver, crear y editar</span>
          <span *ngIf="currentUser?.role === 'ADMINISTRADOR'">Control total</span>
        </div>
        <div class="permission-item">
          <strong>Ataques:</strong>
          <span *ngIf="currentUser?.role === 'CLIENTE'">Solo visualizaciÃ³n</span>
          <span *ngIf="currentUser?.role === 'ANALISTA'">Ver, crear y editar</span>
          <span *ngIf="currentUser?.role === 'ADMINISTRADOR'">Control total</span>
        </div>
        <div class="permission-item" *ngIf="esAdmin()">
          <strong>Usuarios:</strong>
          <span>GestiÃ³n completa del sistema</span>
        </div>
      </div>
    </div>

    <!-- Estado del sistema -->
    <div class="system-status">
      <h3>Estado del Sistema</h3>
      <div class="status-items">
        <div class="status-item">
          <span class="status-indicator online"></span>
          <span>Sistema Operativo</span>
        </div>
        <div class="status-item">
          <span class="status-indicator online"></span>
          <span>Base de Datos Conectada</span>
        </div>
        <div class="status-item">
          <span class="status-indicator online"></span>
          <span>API Funcionando</span>
        </div>
      </div>
    </div>
  </main>
</div>